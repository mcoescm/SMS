<!DOCTYPE html>
<html>
<head>
	<title>Registration Page</title>

	 <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

<!-- FontAwesome compiled  -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style type="text/css">
	.icon
	{
		font-size: 35px;
	}
	body
	{
		background-color: white;
	}
</style>

</head>
<body >

<div class="container" >
	<div style="width: 80%; margin-left: 10%;">
<br>
	<div class="card " >
		<div class="card-header " ><i class="fa fa-address-card-o icon " style="color: yellow;"></i>&nbsp;&nbsp;&nbsp; &nbsp;<b>Registration Form</b></div>

		<div class="card-block" style="margin-left: 20px;margin-right: 20px;  ">
			<form action="{% url 'parent:finalupdate' %}" method="post"><br>
				{% csrf_token %}
                <div class="row">
					<div class="col-sm-12"><label>Full Name :</label></div>
				</div>
				<div class="row">
					<div class="col-sm-4"> <input type="text" class="form-control" name="fname"placeholder="Your Name" required value="{% for i in data %}{{ i.fnm }}{% endfor %}"></div>
					<div class="col-sm-4"><input type="text" name="mname" class="form-control" placeholder="Middle Name" required value="{% for i in data %}{{ i.mnm }}{% endfor %}"></div>
					<div class="col-sm-4"><input type="text" name="lname" class="form-control" placeholder="Last Name" required value="{% for i in data %}{{ i.lnm }}{% endfor %}"></div>
				</div>
				<br>

				<div class="row">
					<div class="col-sm-8"><div class="form-group"><label>Address :</label><textarea rows="2" name="addr"  class="form-control" placeholder="Address" required >{% for i in data %}{{ i.address }}{% endfor %}</textarea></div></div>
					<div class="col-sm-4"></div>



				</div>

				<div class="row">
					<div class="col-sm-4">
						<div class="form-group">
							<label>State :</label>
							<input type="text" name="state" class="form-control" value="{% for i in data %}{{ i.state }}{% endfor %}" placeholder="State Name" required>
						</div>
					</div>

					<div class="col-sm-4">
						<div class="form-group">
							<label>City :</label>
							<input type="text" name="city" class="form-control" value="{% for i in data %}{{ i.city }}{% endfor %}" placeholder="City  Name" required>
						</div>
					</div>
					<div class="col-sm-4">
						<div class="form-group">
							<label>Pin No :</label>
							<input type="text" name="pin" id="pinn" value="{% for i in data %}{{i.pin}}{% endfor %}" class="form-control" maxlength="6" minlength="6" placeholder="Pin Code" pattern="[0-9]+" onkeyup="checkpin()" required>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-5">
						<div class="form-group">
							<label>Gender :</label>&nbsp;
							<label><input type="radio" name="get"  value="male">   &nbsp;Male</label>  &nbsp;&nbsp;&nbsp;
							<label><input type="radio" name="get" value="female">&nbsp; Female  </label> &nbsp;&nbsp;&nbsp;
							<label><input type="radio" name="get" value="other">&nbsp;Other   </label>
						</div>
					</div>
					<div class="col-sm-2"></div>
					<div class="col-sm-5"></div>
				</div>

				<div class="row">

					<div class="col-sm-5">
						<div class="form-group">
								<label>Date Of Birth :</label>
								<input type="Date" name="dob" value="{% for i in data %}{{ i.dob|date:"M d, Y"}}{% endfor %}" id = "dt" onfocus="this.type='Date'" onchange="age()" class="form-control" required>
							</div>
					</div>
					<div class="col-sm-1"></div>
					<div class="col-sm-5">
						<div class="form-group">
								<label>Age :</label>
								<input type="text" name="ages" id = "ages" value="{% for i in data %}{{ i.age }}{% endfor %}"  class="form-control" disabled="" placeholder="Enter Date of Birth First" required>
							</div>
					</div>


				</div>



				<div class="row">
					<div class="col-sm-5">
						<div class="form-group">
							<label>Occupation :</label>
							<input type="text"  name="occupation" value="{% for i in data %}{{ i.occ }}{% endfor %}" class="form-control"  placeholder="Your Occupation" required>
						</div>
					</div>
					<div class="col-sm-1"></div>
					<div class="col-sm-5">
						<div class="form-group">
							<label>Contact No :</label>
							<input type="text"  name="contact" value="{% for i in data %}{{ i.phno }}{% endfor %}" maxlength="10" minlength="10" class="form-control" placeholder="Mobile Number"  id = "phno" onchange="checkphno()" required>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-5">
						<div class="form-group">
							<label>Email Id :</label>
							<input type="email" name="email" value="{% for i in data %}{{ i.email }}{% endfor %}" class="form-control" placeholder="Your Email Id" required>
						</div>
					</div>
					<div class="col-sm-1"></div>
					<div class="col-sm-5">
						<div class="form-group">
							<label>Password :</label>
							<input type="password" name="password" onblur="enab()" value="{% for i in data %}{{ i.pwd }}{% endfor %}" id="pass" class="form-control" placeholder="Create Your Password" required>
						</div>
					</div>

				</div>



				<div class="row">
					<div class="col-sm-5">
						<div class="form-group">
							<label>Confirm Password :</label>
							<input type="password" onblur="enab()" name="cpassword" value="{% for i in data %}{{ i.pwd }}{% endfor %}" id="cpass" class="form-control"  placeholder="Confirm Your Password" required>
						</div>
					</div>
					<div class="col-sm-1"></div>
					<div class="col-sm-5">

					</div>

				</div>
				<br><br>



                    <div class="form-group" style="margin-left: 35%; width: 30%;">
					<input type="submit"  name="submit" value="Register" onclick="checkpass()" class=" form-control btn-success ">

					</div>




<br><br><br><br>
            <input type="text" id = "hide" style="visibility: hidden" name="hide" value="{% for i in data %}{{ i.id }} {% endfor %}">
			</form>


		</div>

	</div>
	</div>
</div>

<script type="text/javascript">


    function enab() {
        document.getElementById("ages").removeAttribute("disabled");

    }




	function checkphno()
	{
		var a = document.getElementById("phno");
		var ab = a.value;
		if(isNaN(ab))
		{

			a.setCustomValidity("I expect a Mobile No, darling!");
		}


	}


	function age()
	{
		/*var dtt =  document.getElementById("dt").value;
		var calc = dtt.substr(0,4);
		var today = new Date();
		var yyyy =  today.getFullYear();
		var aaa = yyyy - calc;
		document.getElementById("ages").value = aaa;*/

		var udate=document.getElementById("dt").value.substr(0,4);
		var cdate=new Date().getFullYear();
		document.getElementById("ages").value = cdate-udate;

	}

	function checkpass()
	{
		var p=document.getElementById("pass");
		var c=document.getElementById("cpass");


		if(p.value!=c.value)
		{
			c.setCustomValidity("Password doesn't Match!!!!");
		}
		else
		{
			c.setCustomValidity("");
		}

	}
	function checkpin()
	{
		var pin = document.getElementById("pinn");
		var pinv = pin.value;

		if(isNaN(pinv))
		{
			document.getElementById("pinn").value="";

		}

	}


</script>

</body>
</html>